<%= stylesheet_link_tag 'cart' %>
<%= javascript_include_tag 'cart' %>
<% if @cart_items.any? %>
  <div class="container mt-5">
    <h2 class="mb-4">Shopping Cart</h2>
    <!-- Headers for the shopping cart -->
    <div class="row">
      <div class="col center"><strong>Product Image</strong></div>
      <div class="col center"><strong>Product Name</strong></div>
      <div class="col center"><strong>Price</strong></div>
      <div class="col center"><strong>Quantity</strong></div>
      <div class="col center"><strong>Sub Total</strong></div>
      <div class="col center"><strong>Discount</strong></div>
      <div class="col center"><strong>Remove</strong></div>
    </div>
    <!-- Shopping cart rows -->
    <% @cart_items.each do |item| %>
      <%= render partial: 'cart_entry', locals: {item: item} %>
    <% end %>
    <!-- Cart summary and checkout button -->
    <div class="row mt-4">
      <!-- Cart summary -->
      <div class="col-md-6 cart-summary">
        <div class="table-responsive">
          <table class="table">
            <tbody>
              <tr>
                <td>Subtotal</td>
                <td>Rs <span id="subtotal"><%= @cart.subtotal %></span></td>
              </tr>
              <tr>
                <td>Delivery Charge</td>
                <td>Rs <span id="delivery-charge"><%= @cart.delivery_charge %></span></td>
              </tr>
              <tr>
                <td>Discount</td>
                <td>- Rs <span id="cart_discount"><%= @cart.discount %></span></td>
              </tr>
              <tr>
                <td>Total</td>
                <td>Rs <span id="total"><%= @cart.total %></span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Checkout button -->
      <div class="col-md-6 d-flex justify-content-center align-items-center">
        <%= link_to "Proceed To Checkout", new_order_path, class: "btn btn-success"%>
      </div>
    </div>
  </div>
<% else %>
  <div class="center">
    <h1>Your Cart is Empty</h1>
  </div>
<% end %>
